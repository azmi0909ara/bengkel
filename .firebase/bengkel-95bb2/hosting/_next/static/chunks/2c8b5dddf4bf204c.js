(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77952,a=>{"use strict";var e=a.i(43476),r=a.i(71645);a.i(36180);var t=a.i(98925),s=a.i(59141);function d(){let[a,d]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[n,i]=(0,r.useState)({nama:"",kategori:"",stok:"",harga:""}),[c,g]=(0,r.useState)(null),p=async()=>{d((await (0,t.getDocs)((0,t.collection)(s.db,"stok"))).docs.map(a=>({id:a.id,...a.data()})))};(0,r.useEffect)(()=>{p()},[]);let x=async a=>{a.preventDefault();let e={nama:n.nama,kategori:n.kategori,stok:Number(n.stok),harga:Number(n.harga)};c?(await (0,t.updateDoc)((0,t.doc)(s.db,"stok",c),e),g(null)):await (0,t.addDoc)((0,t.collection)(s.db,"stok"),{...e,createdAt:t.Timestamp.now()}),i({nama:"",kategori:"",stok:"",harga:""}),p()},m=async a=>{confirm("Hapus barang ini?")&&(await (0,t.deleteDoc)((0,t.doc)(s.db,"stok",a)),p())},h=a.filter(a=>`${a.nama} ${a.kategori}`.toLowerCase().includes(o.toLowerCase()));return(0,e.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black p-6 text-white",children:[(0,e.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Stok Barang"}),(0,e.jsxs)("form",{onSubmit:x,className:"bg-gray-900 border border-gray-700 rounded-xl p-6 mb-8 grid grid-cols-2 gap-4",children:[(0,e.jsx)("input",{placeholder:"Nama Barang",className:"bg-gray-800 border border-gray-700 rounded px-3 py-2",value:n.nama,onChange:a=>i({...n,nama:a.target.value}),required:!0}),(0,e.jsx)("input",{placeholder:"Kategori",className:"bg-gray-800 border border-gray-700 rounded px-3 py-2",value:n.kategori,onChange:a=>i({...n,kategori:a.target.value}),required:!0}),(0,e.jsx)("input",{type:"number",placeholder:"Stok",className:"bg-gray-800 border border-gray-700 rounded px-3 py-2",value:n.stok,onChange:a=>i({...n,stok:a.target.value}),required:!0}),(0,e.jsx)("input",{type:"number",placeholder:"Harga",className:"bg-gray-800 border border-gray-700 rounded px-3 py-2",value:n.harga,onChange:a=>i({...n,harga:a.target.value}),required:!0}),(0,e.jsx)("button",{className:"col-span-2 bg-red-600 hover:bg-red-700 transition rounded py-2 font-semibold",children:c?"Update Barang":"Tambah Barang"})]}),(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)("input",{placeholder:"Cari nama / kategori barang...",className:"w-full md:w-1/3 bg-gray-800 border border-gray-700 rounded px-4 py-2",value:o,onChange:a=>l(a.target.value)})}),(0,e.jsx)("div",{className:"bg-gray-900 border border-gray-700 rounded-xl overflow-hidden",children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,e.jsx)("thead",{className:"bg-gray-800 text-gray-300 uppercase text-xs",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-4 py-3",children:"Nama Barang"}),(0,e.jsx)("th",{className:"px-4 py-3",children:"Kategori"}),(0,e.jsx)("th",{className:"px-4 py-3 text-center",children:"Stok"}),(0,e.jsx)("th",{className:"px-4 py-3",children:"Harga"}),(0,e.jsx)("th",{className:"px-4 py-3 text-center",children:"Aksi"})]})}),(0,e.jsx)("tbody",{className:"divide-y divide-gray-700",children:0===h.length?(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"Data stok tidak ditemukan"})}):h.map(a=>(0,e.jsxs)("tr",{className:"hover:bg-gray-800 transition",children:[(0,e.jsx)("td",{className:"px-4 py-3 font-medium",children:a.nama}),(0,e.jsx)("td",{className:"px-4 py-3",children:a.kategori}),(0,e.jsx)("td",{className:"px-4 py-3 text-center",children:a.stok}),(0,e.jsxs)("td",{className:"px-4 py-3",children:["Rp ",a.harga.toLocaleString("id-ID")]}),(0,e.jsx)("td",{className:"px-4 py-3",children:(0,e.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>{g(a.id),i({nama:a.nama,kategori:a.kategori,stok:a.stok.toString(),harga:a.harga.toString()})},className:"px-3 py-1 rounded bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20 transition",children:"Edit"}),(0,e.jsx)("button",{onClick:()=>m(a.id),className:"px-3 py-1 rounded bg-red-500/10 text-red-400 hover:bg-red-500/20 transition",children:"Hapus"})]})})]},a.id))})]})})})]})}a.s(["default",()=>d])}]);